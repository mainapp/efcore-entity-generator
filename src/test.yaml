Department: 
  fields:
    Id: int
    Name: string
    SortOrder: int
    Users: List<ApplicationUser>
    TargetGroups: List<TargetGroup>
  attr:
    Name: MaxLength(40)
  index: [Name]


ApplicationUser:
  super: IdentityUser  
  fields:
    RealName: string
    IsRoot: bool
    IsManager: bool
    DepartmentId: int
    Department: Department    
  foreign:
    Department: DepartmentId=>Department.Users    
  attr:
    RealName: MaxLength(40)


Indicator:
  fields:
    Id: int
    Name: string
    IsManualInput: bool
    ExternalCode: string
    ExternalSystemName: string
  attr:
    Name: MaxLength(40)
    ExternalCode: MaxLength(80)
    ExternalSystemName: MaxLength(20)


IndicatorsGroup:
  fields:
    Id: int
    Name: string   
    SortOrder: int
    BeginDate: datetime
    EndDate: datetime
    Indicators: List<TargetGroup>
    MainUserGroupId: int
    MainUsers: IndicatorsRelatedUserGroup
    RelatedUserGroupId: int
    RelatedUsers: IndicatorsRelatedUserGroup
  attr:
    Name: MaxLength(40)
  foreign:
    MainUsers: MainUserGroupId=>IndicatorsRelatedUserGroup
    RelatedUsers: RelatedUserGroupId=>IndicatorsRelatedUserGroup


IndicatorsRelatedUserGroup:
  fields:
    Id: int
    Name: string    
    GroupUsers: List<GroupUser>
  attr:
    Name: MaxLength(20)
  index: [Name]



GroupUser:
  fields:
    Id: int
    SortOrder: int
    UserId: string
    User: ApplicationUser
    GroupId: int
    Group: IndicatorsRelatedUserGroup
  foreign:
    User: UserId=>ApplicationUser
    Group: GroupId=>IndicatorsRelatedUserGroup.GroupUsers
  attr:
    GroupName: MaxLength(20)



TargetGroup:
  fields:
    Id: int
    SortOrder: int
    TargetValue: string
    CurrentValue: string
    AlertValue: string
    AlertEnabled: bool
    BeginDate: datetime
    EndDate: datetime
    IndicatorId: int
    Indicator: Indicator
    DepartmentId: int
    Department: Department
  foreign:
    Indicator: IndicatorId=>Indicator
    Department: DepartmentId=>Department.TargetGroups
  attr:
    TargetValue: MaxLength(40)
    CurrentValue: MaxLength(40)
    AlertValue: MaxLength(40)
